name = "google-drive-index"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV Namespace for user sessions (optional)
[[kv_namespaces]]
binding = "ENV"
id = "YOUR_KV_NAMESPACE_ID"
preview_id = "YOUR_PREVIEW_KV_NAMESPACE_ID"

# D1 Database (optional - for database-backed config)
# Uncomment to use D1:
# [[d1_databases]]
# binding = "DB"
# database_name = "google-drive-index-db"
# database_id = "YOUR_D1_DATABASE_ID"

# HyperDrive (optional - for external database)
# Uncomment to use HyperDrive:
# [[hyperdrive]]
# binding = "HYPERDRIVE"
# id = "YOUR_HYPERDRIVE_ID"

[build]
command = "npm install && npx wrangler deploy"

# ============================================================================
# ALL CONFIGURATION (visible as plain text in Cloudflare dashboard)
# ============================================================================
[vars]
ENVIRONMENT = "production"

# Google OAuth2 Credentials
CLIENT_ID = ""                          # Client ID from Google Cloud Console
CLIENT_SECRET = ""                      # Client Secret from Google Cloud Console
REFRESH_TOKEN = ""                      # Refresh Token from OAuth2 flow

# Login System (optional)
ENABLE_LOGIN = "false"                  # "true" or "false"
ENABLE_SIGNUP = "false"                 # "true" or "false"
REDIRECT_DOMAIN = ""                    # e.g., "https://your-worker.workers.dev"
GOOGLE_CLIENT_ID_FOR_LOGIN = ""         # Google Client ID for user login
GOOGLE_CLIENT_SECRET_FOR_LOGIN = ""     # Google Client Secret for user login

# Site Settings
SITE_NAME = "Google Drive Index"
DOWNLOAD_MODE = "path"                  # "path" or "id"
FILES_LIST_PAGE_SIZE = "100"
SEARCH_PAGE_SIZE = "100"

# Blocking (comma-separated)
BLOCKED_REGIONS = ""                    # e.g., "IN,US,PK"
BLOCKED_ASN = ""                        # e.g., "16509,12345"

# Cryptographic Keys (generate your own!)
CRYPTO_BASE_KEY = ""                    # 256-bit key for AES encryption
HMAC_BASE_KEY = ""                      # 256-bit key for HMAC

[env.production]
name = "google-drive-index"
