name = "google-drive-index"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV Namespace for user sessions (optional)
[[kv_namespaces]]
binding = "ENV"
id = "YOUR_KV_NAMESPACE_ID"
preview_id = "YOUR_PREVIEW_KV_NAMESPACE_ID"

# D1 Database (optional - for database-backed config)
# Uncomment to use D1:
# [[d1_databases]]
# binding = "DB"
# database_name = "google-drive-index-db"
# database_id = "YOUR_D1_DATABASE_ID"

# HyperDrive (optional - for external database)
# Uncomment to use HyperDrive:
# [[hyperdrive]]
# binding = "HYPERDRIVE"
# id = "YOUR_HYPERDRIVE_ID"

[build]
command = "npm install && npx wrangler deploy"

# ============================================================================
# ALL CONFIGURATION AS PLAIN TEXT (visible in Cloudflare dashboard)
# ============================================================================
[vars]
ENVIRONMENT = "production"

# Google OAuth2 Credentials (Option 1: User Account)
CLIENT_ID = ""
CLIENT_SECRET = ""
REFRESH_TOKEN = ""

# Service Account (Option 2: paste JSON as single line, or leave empty)
# Get from Google Cloud Console > IAM > Service Accounts > Keys > Create Key (JSON)
SERVICE_ACCOUNT_JSON = ""

# Site Settings
SITE_NAME = "Google Drive Index"
DOWNLOAD_MODE = "path"
FILES_LIST_PAGE_SIZE = "100"
SEARCH_PAGE_SIZE = "100"

# Login System
ENABLE_LOGIN = "false"
ENABLE_SIGNUP = "false"
REDIRECT_DOMAIN = ""
GOOGLE_CLIENT_ID_FOR_LOGIN = ""
GOOGLE_CLIENT_SECRET_FOR_LOGIN = ""

# Blocking (comma-separated)
BLOCKED_REGIONS = ""
BLOCKED_ASN = ""

# Cryptographic Keys
CRYPTO_BASE_KEY = ""
HMAC_BASE_KEY = ""

[env.production]
name = "google-drive-index"
