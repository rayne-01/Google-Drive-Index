name = "google-drive-index"
main = "src/index.ts"
compatibility_date = "2026-01-20"

# ============================================================================
# REQUIRED: KV Namespace for sessions/cache
# Run: wrangler kv:namespace create "ENV"
# Run: wrangler kv:namespace create "ENV" --preview
# ============================================================================
[[kv_namespaces]]
binding = "ENV"
id = "YOUR_KV_NAMESPACE_ID"
preview_id = "YOUR_PREVIEW_KV_NAMESPACE_ID"

# ============================================================================
# REQUIRED: D1 Database for all configuration storage
# Run: wrangler d1 create google-drive-index-db
# ============================================================================
[[d1_databases]]
binding = "DB"
database_name = "google-drive-index-db"
database_id = "YOUR_D1_DATABASE_ID"

[build]
command = "npm install"

# ============================================================================
# SETUP PASSWORD (required for first-time setup)
# Change this before deploying!
# ============================================================================
[vars]
SETUP_PASSWORD = "changeme123"

[env.production]
name = "google-drive-index"
